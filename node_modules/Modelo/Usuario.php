<?php

/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 * Description of Usuario
 *
 * @author USUARIO
 */
include_once ("Conexion.php");
//include "ConexionPDO.php";

mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);
class Usuario {
    public $usuario;
    public $contrasena;
    public $rol;
    public $habilitado;
    public $con;
    
//    public function __construct() {
//        $this->con= new Conexion();
//    }
    
    public function insertarUsuario($usuario, $contrasena, $rol){
        
        $habilitado="si";
        $sql="INSERT INTO usuarios(usuario,contrasena,rol,habilitado)VALUES('$usuario','$contrasena','$rol','$habilitado');";
        try{
        $this->con= new Conexion();
        $rs=$this->con->query($sql)? $r='Insertado':$r='Insercion fallida ;(';
        print_r($r);
        
        
        } catch (Exception $e) {
            echo 'ERROR:' . $e->getMessage();
        }
    }
    
    public function ultimoUsuario(){
        
        try{
            
            $id=  mysqli_insert_id($this->con);
            return $id;
            
        } catch (Exception $e) {
            echo 'ERROR:' . $e->getMessage();
        }
    }
    
    
}
